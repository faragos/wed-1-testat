<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/ranking.css">
    <link rel="stylesheet" href="css/game.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.12/handlebars.min.js"
            integrity="sha256-qlku5J3WO/ehJpgXYoJWC2px3+bZquKChi4oIWrAKoI=" crossorigin="anonymous"></script>
    <title>Hauptseite</title>
  </head>
  <body>
    <main id="main">
    </main>
  </body>
<script src="js/handlebarsHelper.js"></script>
<script src="js/init.js"></script>
<script src="js/players.js"></script>
<script src="js/game.js"></script>
<script src="js/gameLogic.js"></script>
<script src="js/countdown.js"></script>

<script id="home-template" type="text/x-handlebars-template">
    {{#ifCond mode 'local'}}
      <button id="server-button" class="change-mode-button big-button">Wechsle zu Server</button>
    {{else}}
      <button id="local-button" class="change-mode-button big-button">Wechsle zu Lokal</button>
    {{/ifCond}}
    <h1>Rangliste</h1>
    <div id="player-list-container">
      <ol class="ranking">
        {{#each playersSorted}}
          <li id="item-{{@index}}">
            <div class="amount-wins">Rang mit {{win}} Siegen</div>
            <div class="player-name">{{user}}</div>
          </li>
        {{/each}}
      </ol>
    </div>
    <hr>
    <form onsubmit="initGame()" name="playerForm">
      <div>
        <label for="name">Name</label>
        <input type="text" id="name" name="name">
      </div>
      <button id="start-game" type="submit" class="big-button start-game-button">
        Spiel Starten
      </button>
    </form>
</script>
<script id="game-template" type="text/x-handlebars-template">
    <strong>Hallo {{playerName}}. Wähle deine Hand</strong>
    <div class="buttons-container">
      {{#each symbolDefinitions}}
        <button class="game-option {{buttonIcon symbol}}" value="{{symbol}}">{{label}}</button>
      {{/each}}
    </div>
    <div class="answer">
      <div>
        {{#if currentGame}}
          <div>Nächste Runde startet in {{currentGame.time}}</div>
        {{else}}
          VS.
        {{/if}}
      </div>
      <div class="opponents-choice">
        {{#if currentGame}}
          {{ currentGame.opponentHandLabel }}
        {{else}}
          ?
        {{/if}}
      </div>
    </div>


    <form onsubmit="stopGame()" name="backForm">
      <button id="stop-game" type="submit" class="big-button">
        Zurück zum Ranking
      </button>
    </form>
    <hr />
    <table>
      <thead>
        <tr>
          <td>Result</td>
          <td>Player</td>
          <td>Opponent</td>
        </tr>
      </thead>
      <tbody>
      {{#ifCond mode 'local'}}
        {{#each local.history}}
          <tr id="item-{{@index}}">
            <td class="icon-{{result}}">
            </td>
            <td>{{playerHandLabel}}</td>
            <td>{{opponentHandLabel}}</td>
          </tr>
        {{/each}}
      {{else}}
        {{#each server.history}}
          <tr id="item-{{@index}}">
            <td class="icon-{{result}}">
            </td>
            <td>{{playerHandLabel}}</td>
            <td>{{opponentHandLabel}}</td>
          </tr>
        {{/each}}
      {{/ifCond}}
      </tbody>
    </table>
</script>
</html>